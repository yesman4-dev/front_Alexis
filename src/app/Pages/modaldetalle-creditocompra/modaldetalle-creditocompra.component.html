<h2 class="modal-title">Detalle de Crédito {{ data.id }}</h2>


<div class="detalle-credito-header">
  <div><strong>Proveedor:</strong> {{ data.nombreProveedor }}</div>
  <div><strong>Fecha Inicio:</strong> {{ data.fechaInicio | date:'dd/MM/yyyy HH:mm' }}</div>
  <div><strong>Total Crédito:</strong> {{ data.totalCredito | currency:'HNL':'symbol':'1.2-2':'es-HN' }}</div>
  <div><strong>Saldo Pendiente:</strong> {{ data.saldoPendiente | currency:'HNL':'symbol':'1.2-2':'es-HN' }}</div>
  <div><strong>Estado:</strong> {{ data.estado }}</div>
</div>

<div class="boton-pdf-container">
  <button mat-raised-button color="primary" (click)="generarPDF()">
    <mat-icon>picture_as_pdf</mat-icon>
    Generar Reporte PDF
  </button>
</div>

<h3 class="subtitulo">Historial de Pagos ({{data.pagoCreditoCompras.length}})</h3>
<div class="tabla-scroll">
  <table mat-table [dataSource]="data.pagoCreditoCompras" class="mat-elevation-z8 tabla-historial">
    <ng-container matColumnDef="fechaPago">
      <th mat-header-cell *matHeaderCellDef> Fecha de Pago </th>
      <td mat-cell *matCellDef="let pago"> {{ pago.fechaPago | date:'dd/MM/yyyy HH:mm' }} </td>
    </ng-container>

    <ng-container matColumnDef="montoPagado">
      <th mat-header-cell *matHeaderCellDef> Monto </th>
      <td mat-cell *matCellDef="let pago"> {{ pago.montoPagado | currency:'HNL':'symbol':'1.2-2':'es-HN' }} </td>
    </ng-container>

    <ng-container matColumnDef="observacion">
      <th mat-header-cell *matHeaderCellDef> Observación </th>
      <td mat-cell *matCellDef="let pago"> {{ pago.observacion }} </td>
    </ng-container>

    <ng-container matColumnDef="usuarioNombre">
      <th mat-header-cell *matHeaderCellDef> Usuario </th>
      <td mat-cell *matCellDef="let pago"> {{ pago.usuarioNombre }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnasHistorial"></tr>
    <tr mat-row *matRowDef="let row; columns: columnasHistorial;"></tr>
  </table>
</div>
